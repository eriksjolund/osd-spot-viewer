<!DOCTYPE html>
<html>
  <head>
   <script src="//cdn.rawgit.com/dcodeIO/long.js/3.1.0/dist/long.min.js"></script>
   <script src="//cdn.rawgit.com/dcodeIO/bytebuffer.js/5.0.1/dist/bytebuffer.min.js"></script>
   <script src="//cdn.rawgit.com/dcodeIO/protobuf.js/5.0.1/dist/protobuf.min.js"></script>
   <script src="http://eriksjolund.github.io/temp_web_build_for_osd_spot_viewer/openseadragon/openseadragon.min.js"></script>
   <script type="text/javascript" src="src/entry.js" charset="utf-8"></script>
   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js"></script>
   <script type="text/javascript" src="http://openseadragon.github.io/svg-overlay/openseadragon-svg-overlay.js"></script>
   <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
   <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
   <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
   <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <script>
window.local_files = {};

window.osd_layout_image_colors = [];
window.layouts = [];

var ProtoBuf = dcodeIO.ProtoBuf;
var builder = ProtoBuf.newBuilder();
ProtoBuf.loadProtoFile("st_exp.proto", builder);    

window.protobuf_message_parsers = {};
window.protobuf_message_parsers.header_size_message =  builder.build("fileformat_common_proto").HeaderSize;
window.protobuf_message_parsers.header_message =  builder.build("st_exp_proto").Header;
window.protobuf_message_parsers.gene_hit =  builder.build("st_exp_proto").GeneHit;
window.protobuf_message_parsers.spots =  builder.build("st_exp_proto").Spots;
window.protobuf_message_parsers.gene_names =  builder.build("st_exp_proto").GeneNames;
     
    </script>

    <h2>Experiment files</h2>

    <label class="btn btn-default btn-file">
      Add local experiment files <input type="file" style="display: none;" id="experiment_files_input" multiple onchange="handleExperimentFiles(this.files)">
      </label>
<br/>

<!--   <button  onclick="add_osd_window()">add section</button>-->
    <div>
       <div class="input-group">
         <span class="input-group-btn">
           <button class="btn btn-default" type="button" onclick="handleAddExperimentURL()">Add URL to experiment file</button>
         </span>
         <input type="text" id="input_remote_url_to_add" class="form-control" placeholder="Add URL to remote experiment file">
       </div>
    </div>

    <h2>Layout files</h2>
    <label class="btn btn-default btn-file">
      Add local layout file
      <input type="file" style="display: none;"   id="layout_files_input" multiple onchange="handleLayoutFiles(this.files)">
    </label>

    <div id="osd_windows"></div>
    <div>
      <br/>
      <b>
        Changes to this web page: June 1st 2016, started to use Javascript ES6 Promises (only tested with Google Chrome and Firefox)
      </b>
    </div>
 <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  </body>
</html>
